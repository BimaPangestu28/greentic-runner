package greentic:provider-core@1.0.0;

interface schema-core-api {
  /// Result of validating a provider configuration payload.
  type validation-result = list<u8>;

  /// Health status reported by the provider runtime.
  type health-status = list<u8>;

  /// Result of invoking a provider operation.
  type invoke-result = list<u8>;

  /// Return the provider manifest as JSON bytes.
  describe: func() -> validation-result;
  /// Validate a provider configuration JSON payload.
  validate-config: func(config-json: list<u8>) -> validation-result;
  /// Lightweight health probe.
  healthcheck: func() -> health-status;
  /// Invoke an operation with JSON input.
  invoke: func(op: string, input-json: list<u8>) -> invoke-result;
}

world schema-core {
  export schema-core-api;
}
